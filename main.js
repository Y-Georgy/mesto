(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const t=function t(n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,"rendererItems",(function(e){e.forEach((function(e){o._renderer(e)}))})),e(this,"addItem",(function(e){o._containerForAddItem.append(e)})),e(this,"addItemToTop",(function(e){o._containerForAddItem.prepend(e)})),this._containerForAddItem=document.querySelector(r),this._renderer=n};function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),r(this,"_handlerClickClose",(function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__icon-close"))&&n.close()})),this._popup=document.querySelector(t)}var t,o;return t=e,(o=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_opened")}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){this._popup.addEventListener("mousedown",this._handlerClickClose)}}])&&n(t.prototype,o),e}();function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=s(t);if(n){var o=s(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return c(this,e)});function o(e){var t,n,i,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),c=function(e){var r=e.link,i=e.title;n._popupImage.src=r,n._popupImage.alt="Увеличенное изображение ".concat(i),n._popupSignature.textContent=i,l((t=u(n),s(o.prototype)),"open",t).call(t)},(a="open")in(i=u(n=r.call(this,e)))?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i.open=c,n._popup=document.querySelector(e),n._popupImage=n._popup.querySelector(".popup__image"),n._popupSignature=n._popup.querySelector(".popup__image-signature"),n}return o}(o);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),v(m(n=i.call(this,t)),"_getInputValues",(function(){var e={};return n._popupInputs.forEach((function(t){e[t.name]=t.value})),e})),v(m(n),"setInputValues",(function(e){n._popupInputs.forEach((function(t){t.value=e[t.name]}))})),v(m(n),"_handlerSubmit",(function(e){e.preventDefault(),n._handlerSubmitForm(n._getInputValues())})),n._formElement=n._popup.querySelector(".popup__container"),n._handlerSubmitForm=e,n._popupInputs=Array.from(n._popup.querySelectorAll(".popup__input")),n}return t=a,(n=[{key:"setEventListeners",value:function(){d(b(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",this._handlerSubmit)}},{key:"close",value:function(){d(b(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&h(t.prototype,n),a}(o);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function a(e,t){var n,r,o,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),c=function(e){e.preventDefault(),n._handlerSubmitForm(n.card)},(o="_handlerSubmit")in(r=L(n=i.call(this,t)))?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,n._handlerSubmitForm=e,n._formElement=n._popup.querySelector(".popup__container"),n}return t=a,(n=[{key:"setEventListeners",value:function(){S(O(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",this._handlerSubmit)}},{key:"close",value:function(){S(O(a.prototype),"close",this).call(this)}},{key:"open",value:function(e){S(O(a.prototype),"open",this).call(this),this.card=e}}])&&k(t.prototype,n),a}(o);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=function(){function e(t,n,r,o){var i=this,a=r.handleDeleteClick,c=r.handleLikeClick,u=r.handleImgClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,"_cloneTemplateElement",(function(){i._cardNewElement=i._templateElement.querySelector(".element").cloneNode(!0)})),j(this,"_takeElementsCard",(function(){i._imgElement=i._cardNewElement.querySelector(".element__img"),i._overlayImgElement=i._cardNewElement.querySelector(".element__overlay-img"),i._titleElement=i._cardNewElement.querySelector(".element__title"),i._likeQuantity=i._cardNewElement.querySelector(".element__like-quantity"),i._buttonLike=i._cardNewElement.querySelector(".element__icon-like"),i._buttonDelete=i._cardNewElement.querySelector(".element__icon-delete")})),j(this,"_compareOwner",(function(){i._ownerId!==i._myProfileId?(i._buttonDelete.remove(),i._flag=!1):i._flag=!0})),j(this,"_fillDataCard",(function(){i._imgElement.src=i._link,i._imgElement.alt=i._title,i._titleElement.textContent=i._title,i.updateQuantityLike()})),j(this,"_setEventListeners",(function(){i._buttonLike.addEventListener("click",(function(){i._handleLikeClick(i)})),i._flag&&i._buttonDelete.addEventListener("click",(function(){i._handleDeleteClick(i)})),i._overlayImgElement.addEventListener("click",(function(){i._handleImgClick({link:i._link,title:i._title})}))})),j(this,"createCard",(function(){return i._cloneTemplateElement(),i._takeElementsCard(),i._compareOwner(),i._fillDataCard(),i.toggleLikeIcon(),i._setEventListeners(),i._cardNewElement})),this._templateElement=document.querySelector(n).content,this._title=t.name,this._link=t.link,this._handleImgClick=u,this._handleLikeClick=c,this._handleDeleteClick=a,this.likes=t.likes,this._ownerId=t.owner._id,this.cardId=t._id,this._data=t,this._myProfileId=o}var t,n;return t=e,(n=[{key:"updateQuantityLike",value:function(){this._likeQuantity.textContent=this.likes.length}},{key:"toggleLikeIcon",value:function(){this.isLiked()?this._buttonLike.classList.add("element__icon-like_active"):this._buttonLike.classList.remove("element__icon-like_active")}},{key:"isLiked",value:function(){var e=this;return this.likes.some((function(t){return t._id===e._myProfileId}))}},{key:"removeCard",value:function(){this._cardNewElement.remove()}}])&&P(t.prototype,n),e}();function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,"_showErrorMessage",(function(e){var t=r._formElement.querySelector(".".concat(e.id,"-error")),n=e.validationMessage;t.textContent=n,e.classList.add(r._configForm.inputErrorClass),t.classList.add(r._configForm.errorClass)})),R(this,"_hideErrorMessage",(function(e){var t=r._formElement.querySelector(".".concat(e.id,"-error"));t.textContent="",e.classList.remove(r._configForm.inputErrorClass),t.classList.remove(r._configForm.errorClass)})),R(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideErrorMessage(e):r._showErrorMessage(e)})),R(this,"_activateButtonSubmit",(function(){r._buttonElement.classList.add(r._configForm.inactiveButtonClass),r._buttonElement.setAttribute("disabled","disabled")})),R(this,"_inactivateButtonSubmit",(function(){r._buttonElement.classList.remove(r._configForm.inactiveButtonClass),r._buttonElement.removeAttribute("disabled")})),R(this,"changeButtonText",(function(e){r._buttonElement.textContent=e})),R(this,"_checkInputsValid",(function(){return r._inputElements.some((function(e){return!e.validity.valid}))})),R(this,"toggleButtonState",(function(){r._checkInputsValid()?r._activateButtonSubmit():r._inactivateButtonSubmit()})),R(this,"_setInputListeners",(function(){r.toggleButtonState(),r._inputElements.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r.toggleButtonState()}))}))})),R(this,"enableValidation",(function(){r._setInputListeners()})),R(this,"clearErrorsMessage",(function(){r._popupInputList.forEach(r._hideErrorMessage)})),this._formElement=n,this._buttonElement=n.querySelector(t.submitButtonSelector),this._inputElements=Array.from(n.querySelectorAll(t.inputSelector)),this._configForm=t,this._popupInputList=Array.from(this._formElement.querySelectorAll(t.inputSelector))};function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t){var n=t.profileTitleSelector,r=t.profileSubtitleSelector,o=t.profileAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._prifileTitle=document.querySelector(n),this._prifileSubtitle=document.querySelector(r),this._profileAvatar=document.querySelector(o),this._profileId=""}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._prifileTitle.textContent,about:this._prifileSubtitle.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e._id;this._prifileTitle.textContent=t,this._prifileSubtitle.textContent=n,this._profileId=r}},{key:"updateAvatar",value:function(e){this._profileAvatar.src=e}},{key:"getUserId",value:function(){return this._profileId}}])&&q(t.prototype,n),e}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Произошла ошибка: ".concat(e.status))}},{key:"getCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"getProfile",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"addProfile",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"updateAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}}])&&x(t.prototype,n),e}(),D={inputSelector:".popup__input",inputErrorClass:"popup__input_type_error",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disabled",errorClass:"popup__error_visible"},F=document.querySelector(".profile"),N=document.querySelector(".profile__overlay-avatar"),V=F.querySelector(".profile__edit-button"),M=F.querySelector(".profile__add-button"),Q=".element-template";function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=new A(D,document.forms.formAuthor),H=new A(D,document.forms.formCard),z=new A(D,document.forms.formAvatar),$=new U({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-26",headers:{authorization:"ef9c4dff-4cef-417b-a4dd-85f6d4ba3fef","Content-Type":"application/json"}}),K=new f(".popup_type_image");K.setEventListeners();var W=new I((function(e){$.deleteCard(e.cardId).then((function(t){"Пост удалён"===t.message&&(e.removeCard(),W.close())})).catch((function(e){return console.log(e)}))}),".popup_type_confirm");W.setEventListeners();var X={handleDeleteClick:function(){W.open(this)},handleLikeClick:function(){var e=this;(this.isLiked()?$.deleteLike(this.cardId):$.addLike(this.cardId)).then((function(t){e.likes=t.likes,e.updateQuantityLike(),e.toggleLikeIcon()})).catch((function(e){return console(e)}))},handleImgClick:function(e){K.open(e)}};function Y(e,t,n){var r=Z.getUserId();return new T(e,t,n,r).createCard()}var Z=new B({profileTitleSelector:".profile__title",profileSubtitleSelector:".profile__subtitle",profileAvatarSelector:".profile__avatar"});Promise.all([$.getProfile(),$.getCards()]).then((function(e){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];Z.setUserInfo(i),Z.updateAvatar(i.avatar);var c=new t((function(e){var t=Y(e,Q,X);c.addItem(t)}),".elements__list");c.rendererItems(a);var u=new g((function(e){H.changeButtonText("Создание..."),$.addCard(e).then((function(e){var t=Y(e,Q,X);c.addItemToTop(t),u.close(),H.toggleButtonState(),H.changeButtonText("Создать")})).catch((function(e){return console.log(e)}))}),".popup_type_add");u.setEventListeners();var l=new g((function(e){G.changeButtonText("Сохранение..."),$.addProfile(e).then((function(e){Z.setUserInfo(e),l.close(),G.changeButtonText("Сохранить")})).catch((function(e){return console.log(e)}))}),".popup_type_edit");l.setEventListeners();var s=new g((function(e){z.changeButtonText("Сохранение..."),$.updateAvatar(e).then((function(e){var t=e.avatar;Z.updateAvatar(t),s.close(),z.changeButtonText("Сохранить")})).catch((function(e){return console.log(e)}))}),".popup_type_avatar");s.setEventListeners(),V.addEventListener("click",(function(){l.setInputValues(Z.getUserInfo()),G.clearErrorsMessage(),l.open()})),M.addEventListener("click",(function(){H.clearErrorsMessage(),u.open()})),N.addEventListener("click",(function(){z.clearErrorsMessage(),z.toggleButtonState(),s.open()}))})).catch((function(e){return console.log(e)})).finally((function(){H.enableValidation(),G.enableValidation(),z.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsImZvckVhY2giLCJpdGVtIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lckZvckFkZEl0ZW0iLCJhcHBlbmQiLCJwcmVwZW5kIiwidGhpcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiX3BvcHVwIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVFc2NDbG9zZSIsImFkZCIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlckNsaWNrQ2xvc2UiLCJsaW5rIiwidGl0bGUiLCJfcG9wdXBJbWFnZSIsInNyYyIsImFsdCIsIl9wb3B1cFNpZ25hdHVyZSIsInRleHRDb250ZW50IiwiUG9wdXAiLCJoYW5kbGVyU3VibWl0Rm9ybSIsInZhbHVlSW5wdXRzIiwiX3BvcHVwSW5wdXRzIiwiaW5wdXQiLCJuYW1lIiwidmFsdWUiLCJkYXRhIiwicHJldmVudERlZmF1bHQiLCJfaGFuZGxlclN1Ym1pdEZvcm0iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfZm9ybUVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2hhbmRsZXJTdWJtaXQiLCJyZXNldCIsIlBvcHVwV2l0aFN1Ym1pdCIsImNhcmQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwidXNlcklkIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVJbWdDbGljayIsIl9jYXJkTmV3RWxlbWVudCIsIl90ZW1wbGF0ZUVsZW1lbnQiLCJjbG9uZU5vZGUiLCJfaW1nRWxlbWVudCIsIl9vdmVybGF5SW1nRWxlbWVudCIsIl90aXRsZUVsZW1lbnQiLCJfbGlrZVF1YW50aXR5IiwiX2J1dHRvbkxpa2UiLCJfYnV0dG9uRGVsZXRlIiwiX293bmVySWQiLCJfbXlQcm9maWxlSWQiLCJfZmxhZyIsIl9saW5rIiwiX3RpdGxlIiwidXBkYXRlUXVhbnRpdHlMaWtlIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVJbWdDbGljayIsIl9jbG9uZVRlbXBsYXRlRWxlbWVudCIsIl90YWtlRWxlbWVudHNDYXJkIiwiX2NvbXBhcmVPd25lciIsIl9maWxsRGF0YUNhcmQiLCJ0b2dnbGVMaWtlSWNvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsImNvbnRlbnQiLCJsaWtlcyIsIm93bmVyIiwiX2lkIiwiY2FyZElkIiwiX2RhdGEiLCJsZW5ndGgiLCJpc0xpa2VkIiwic29tZSIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3IiLCJpZCIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2NvbmZpZ0Zvcm0iLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlRXJyb3JNZXNzYWdlIiwiX3Nob3dFcnJvck1lc3NhZ2UiLCJfYnV0dG9uRWxlbWVudCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0ZXh0IiwiX2lucHV0RWxlbWVudHMiLCJfY2hlY2tJbnB1dHNWYWxpZCIsIl9hY3RpdmF0ZUJ1dHRvblN1Ym1pdCIsIl9pbmFjdGl2YXRlQnV0dG9uU3VibWl0IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3NldElucHV0TGlzdGVuZXJzIiwiX3BvcHVwSW5wdXRMaXN0Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiVXNlckluZm8iLCJwcm9maWxlVGl0bGVTZWxlY3RvciIsInByb2ZpbGVTdWJ0aXRsZVNlbGVjdG9yIiwicHJvZmlsZUF2YXRhclNlbGVjdG9yIiwiX3ByaWZpbGVUaXRsZSIsIl9wcmlmaWxlU3VidGl0bGUiLCJfcHJvZmlsZUF2YXRhciIsIl9wcm9maWxlSWQiLCJhYm91dCIsImF2YXRhckxpbmsiLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9oYW5kbGVSZXNwb25zZSIsImRhdGFDYXJkIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhTmV3QXV0aG9yIiwiYXZhdGFyIiwicHJvZmlsZSIsImF2YXRhck92ZXJsYXkiLCJidXR0b25FZGl0IiwiYnV0dG9uQWRkIiwiZm9ybUF1dGhvclZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtcyIsImZvcm1BdXRob3IiLCJmb3JtQ2FyZFZhbGlkYXRvciIsImZvcm1DYXJkIiwiZm9ybUF2YXRhclZhbGlkYXRvciIsImZvcm1BdmF0YXIiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwicG9wdXBUeXBlSW1hZ2UiLCJQb3B1cFdpdGhJbWFnZSIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBUeXBlQ29uZmlybSIsImRlbGV0ZUNhcmQiLCJtZXNzYWdlIiwicmVtb3ZlQ2FyZCIsImNhdGNoIiwicmVqIiwiY29uc29sZSIsImxvZyIsImhhbmRsZXJzQ2FyZENsaWNrIiwib3BlbiIsImRlbGV0ZUxpa2UiLCJhZGRMaWtlIiwiY29uc3RydWN0TmV3Q2FyZCIsInVzZXJJbmZvIiwiZ2V0VXNlcklkIiwiQ2FyZCIsImNyZWF0ZUNhcmQiLCJhbGwiLCJnZXRQcm9maWxlIiwiZ2V0Q2FyZHMiLCJwcm9maWxlSW5mbyIsImNhcmRzSW5mbyIsInNldFVzZXJJbmZvIiwidXBkYXRlQXZhdGFyIiwiY2FyZHNMaXN0IiwiU2VjdGlvbiIsIm5ld0NhcmQiLCJhZGRJdGVtIiwicmVuZGVyZXJJdGVtcyIsInBvcHVwVHlwZUFkZCIsIlBvcHVwV2l0aEZvcm0iLCJjaGFuZ2VCdXR0b25UZXh0IiwiYWRkQ2FyZCIsInJlc3BvbnMiLCJhZGRJdGVtVG9Ub3AiLCJwb3B1cFR5cGVFZGl0IiwiZGF0YUF1dGhvciIsImFkZFByb2ZpbGUiLCJwb3B1cFR5cGVBdmF0YXIiLCJzZXRJbnB1dFZhbHVlcyIsImdldFVzZXJJbmZvIiwiY2xlYXJFcnJvcnNNZXNzYWdlIiwiZmluYWxseSIsImVuYWJsZVZhbGlkYXRpb24iXSwibWFwcGluZ3MiOiIySUFzQkEsUUFyQkUsV0FBYUEsRUFBVUMsR0FBbUIsWSw0RkFBQSxpQ0FLMUIsU0FBQ0MsR0FDZkEsRUFBTUMsU0FBUSxTQUFBQyxHQUNaLEVBQUtDLFVBQVVELFNBUHVCLGtCQVdoQyxTQUFDQSxHQUNULEVBQUtFLHFCQUFxQkMsT0FBT0gsTUFaTyx1QkFlM0IsU0FBQ0EsR0FDZCxFQUFLRSxxQkFBcUJFLFFBQVFKLE1BZmxDSyxL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QUFaTyxFQUFZLEVBQVpBLE9BQ04rQixFQUFTVSxhQUFhekMsR0FDdEJ3RCxFQUFnQi9MLFFBQ2hCa0osRUFBb0JzQyxpQkFBaUIsZ0JBRXRDM0IsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLFFEOUhHLHNCQ2lJbkNpQyxFQUFnQnZDLG9CQVFoQmQsbUJBQTRCLFNBTDVCLFdBQ0VrRCxFQUFjSSxlQUFlMUIsRUFBUzJCLGVBQ3RDckQsRUFBb0JzRCxxQkFDcEJOLEVBQWMxQixVQUtoQnZCLG1CQUEyQixTQUFTLFdBQ2xDSyxFQUFrQmtELHFCQUNsQlosRUFBYXBCLFVBSWZ6QixtQkFBK0IsU0FBUyxXQUN0Q1MsRUFBb0JnRCxxQkFDcEJoRCxFQUFvQmhELG9CQUNwQjZGLEVBQWdCN0IsYUFHckJMLE9BQU0sU0FBQUMsR0FBRyxPQUFJQyxRQUFRQyxJQUFJRixNQUN6QnFDLFNBQVEsV0FFUG5ELEVBQWtCb0QsbUJBQ2xCeEQsRUFBb0J3RCxtQkFDcEJsRCxFQUFvQmtELHVCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvciAocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXJGb3JBZGRJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyZXJJdGVtcyA9IChpdGVtcykgPT4ge1xyXG4gICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0gPSAoaXRlbSkgPT4ge1xyXG4gICAgdGhpcy5fY29udGFpbmVyRm9yQWRkSXRlbS5hcHBlbmQoaXRlbSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtVG9Ub3AgPSAoaXRlbSkgPT4ge1xyXG4gICAgdGhpcy5fY29udGFpbmVyRm9yQWRkSXRlbS5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XHJcbiIsImNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBvcGVuICgpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuXHJcbiAgfVxyXG5cclxuICBjbG9zZSAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZXJDbGlja0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2ljb24tY2xvc2UnKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVyQ2xpY2tDbG9zZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG4gICAgdGhpcy5fcG9wdXBTaWduYXR1cmUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLXNpZ25hdHVyZScpO1xyXG4gIH1cclxuXHJcbiAgb3BlbiA9ICh7bGluaywgdGl0bGV9KSA9PiB7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGDQo9Cy0LXQu9C40YfQtdC90L3QvtC1INC40LfQvtCx0YDQsNC20LXQvdC40LUgJHt0aXRsZX1gO1xyXG4gICAgdGhpcy5fcG9wdXBTaWduYXR1cmUudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEltYWdlO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IgKGhhbmRsZXJTdWJtaXRGb3JtLCBwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb250YWluZXInKTtcclxuICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtID0gaGFuZGxlclN1Ym1pdEZvcm07XHJcbiAgICB0aGlzLl9wb3B1cElucHV0cyA9IEFycmF5LmZyb20odGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHZhbHVlSW5wdXRzID0ge31cclxuICAgIHRoaXMuX3BvcHVwSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHZhbHVlSW5wdXRzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZUlucHV0cztcclxuICB9XHJcblxyXG4gIHNldElucHV0VmFsdWVzID0gKGRhdGEpID0+IHtcclxuICAgIHRoaXMuX3BvcHVwSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZXJTdWJtaXQgPSAoZXZ0KSA9PiB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZXJTdWJtaXQpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UgKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihoYW5kbGVyU3VibWl0Rm9ybSwgcG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtID0gaGFuZGxlclN1Ym1pdEZvcm07XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRhaW5lcicpO1xuICB9XG5cbiAgX2hhbmRsZXJTdWJtaXQgPSAoZXZ0KSA9PiB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5faGFuZGxlclN1Ym1pdEZvcm0odGhpcy5jYXJkKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzICgpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZXJTdWJtaXQpO1xuICB9XG5cbiAgY2xvc2UgKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cblxuICBvcGVuKGNhcmQpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5jYXJkID0gY2FyZDtcbiAgfVxufVxuIiwiY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IgKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIHtoYW5kbGVEZWxldGVDbGljaywgaGFuZGxlTGlrZUNsaWNrLCBoYW5kbGVJbWdDbGlja30sIHVzZXJJZCkge1xyXG4gICAgdGhpcy5fdGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0ZW1wbGF0ZVNlbGVjdG9yKS5jb250ZW50O1xyXG4gICAgdGhpcy5fdGl0bGUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5faGFuZGxlSW1nQ2xpY2sgPSBoYW5kbGVJbWdDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbiAgICB0aGlzLmxpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIHRoaXMuY2FyZElkID0gZGF0YS5faWRcclxuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5fbXlQcm9maWxlSWQgPSB1c2VySWQ7XHJcbiAgfVxyXG5cclxuICAvLyDQutC70L7QvdC40YDRg9C10LwgdGVtcGxhdGVcclxuICAgIF9jbG9uZVRlbXBsYXRlRWxlbWVudCA9ICgpID0+IHtcclxuICAgICAgdGhpcy5fY2FyZE5ld0VsZW1lbnQgPSB0aGlzLl90ZW1wbGF0ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gIC8vINCx0LXRgNC10Lwg0L3Rg9C20L3Ri9C1INGN0LvQtdC80LXQvdGC0Ysg0LjQtyDRgNCw0LfQvNC10YLQutC4XHJcbiAgX3Rha2VFbGVtZW50c0NhcmQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9pbWdFbGVtZW50ID0gdGhpcy5fY2FyZE5ld0VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltZycpO1xyXG4gICAgdGhpcy5fb3ZlcmxheUltZ0VsZW1lbnQgPSB0aGlzLl9jYXJkTmV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fb3ZlcmxheS1pbWcnKTtcclxuICAgIHRoaXMuX3RpdGxlRWxlbWVudCA9IHRoaXMuX2NhcmROZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpO1xyXG4gICAgdGhpcy5fbGlrZVF1YW50aXR5ID0gdGhpcy5fY2FyZE5ld0VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtcXVhbnRpdHknKTtcclxuICAgIHRoaXMuX2J1dHRvbkxpa2UgPSB0aGlzLl9jYXJkTmV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faWNvbi1saWtlJyk7XHJcbiAgICB0aGlzLl9idXR0b25EZWxldGUgPSB0aGlzLl9jYXJkTmV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faWNvbi1kZWxldGUnKTtcclxuICB9XHJcblxyXG4gIC8vINGB0LLQtdGA0Y/QtdC8IGlkINC60LDRgNGC0L7Rh9C60Lgg0Lgg0LzQvtC5IGlkXHJcbiAgX2NvbXBhcmVPd25lciA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl9teVByb2ZpbGVJZCkge1xyXG4gICAgICB0aGlzLl9idXR0b25EZWxldGUucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuX2ZsYWcgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2ZsYWcgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0L3QsNC/0L7Qu9C90Y/QtdC8INC00LDQvdC90YvQvNC4INC60LDRgNGC0L7Rh9C60YNcclxuICBfZmlsbERhdGFDYXJkID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faW1nRWxlbWVudC5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5faW1nRWxlbWVudC5hbHQgPSB0aGlzLl90aXRsZTtcclxuICAgIHRoaXMuX3RpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xyXG4gICAgdGhpcy51cGRhdGVRdWFudGl0eUxpa2UoKTtcclxuICB9XHJcblxyXG4gIC8vINC+0LHQvdC+0LLQu9GP0LXQvCDQutC+0Lst0LLQviDQu9Cw0LnQutC+0LJcclxuICB1cGRhdGVRdWFudGl0eUxpa2UoKSB7XHJcbiAgICB0aGlzLl9saWtlUXVhbnRpdHkudGV4dENvbnRlbnQgPSB0aGlzLmxpa2VzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUxpa2VJY29uKCkge1xyXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9faWNvbi1saWtlX2FjdGl2ZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19pY29uLWxpa2VfYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQv9GA0L7QstC10YDQutCwINC70LDQudC60LBcclxuICBpc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubGlrZXMuc29tZSgoaXRlbSkgPT4ge1xyXG4gICAgICByZXR1cm4gaXRlbS5faWQgPT09IHRoaXMuX215UHJvZmlsZUlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDRg9GB0YLQsNC90LDQstC70LjQstCw0LXQvCDRgdC70YPRiNCw0YLQtdC70LhcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9idXR0b25MaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzKTtcclxuICAgIH0pXHJcbiAgICBpZiAodGhpcy5fZmxhZykge1xyXG4gICAgICB0aGlzLl9idXR0b25EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fb3ZlcmxheUltZ0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltZ0NsaWNrKHtcclxuICAgICAgICBsaW5rOiB0aGlzLl9saW5rLFxyXG4gICAgICAgIHRpdGxlOiB0aGlzLl90aXRsZVxyXG4gICAgICB9KTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvLyDRgdC+0LfQtNCw0LXQvCDQutCw0YDRgtC+0YfQutGDXHJcbiAgY3JlYXRlQ2FyZCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2Nsb25lVGVtcGxhdGVFbGVtZW50KCk7XHJcbiAgICB0aGlzLl90YWtlRWxlbWVudHNDYXJkKCk7XHJcbiAgICB0aGlzLl9jb21wYXJlT3duZXIoKTtcclxuICAgIHRoaXMuX2ZpbGxEYXRhQ2FyZCgpO1xyXG4gICAgdGhpcy50b2dnbGVMaWtlSWNvbigpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkTmV3RWxlbWVudDtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkTmV3RWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yIChjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50OyAvLyDRhNC+0YDQvNCwXHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpOyAvLyDQutC90L7Qv9C60LAg0YHQsNCx0LzQuNGCXHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7IC8vINCy0YHQtSDQuNC90L/Rg9GC0YtcclxuICAgIHRoaXMuX2NvbmZpZ0Zvcm0gPSBjb25maWc7IC8vINC+0LHRitC10LrRgiDRgSDQutC70LDRgdGB0LDQvNC4INGE0L7RgNC80YtcclxuICAgIHRoaXMuX3BvcHVwSW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7IC8vINC80LDRgdGB0LjQsiDQstGB0LXRhSDQuNC90L/Rg9GC0L7QslxyXG4gIH1cclxuXHJcbiAgLy8g0J/QvtC60LDQt9GL0LLQsNGOINGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtVxyXG4gIF9zaG93RXJyb3JNZXNzYWdlID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvci50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZ0Zvcm0uaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnRm9ybS5lcnJvckNsYXNzKTtcclxuICB9O1xyXG5cclxuICAvLyDRgdC60YDRi9Cy0LDRjiDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LVcclxuICBfaGlkZUVycm9yTWVzc2FnZSA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgZXJyb3IudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnRm9ybS5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWdGb3JtLmVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy8g0L/RgNC+0LLQtdGA0Y/RjiDQstCw0LvQuNC00LXQvSDQu9C4INC40L3Qv9GD0YJcclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlRXJyb3JNZXNzYWdlKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93RXJyb3JNZXNzYWdlKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQsNC60YLQuNCy0LjRgNGD0Y4g0LrQvdC+0L/QutGDINGB0LDQsdC80LjRglxyXG4gIF9hY3RpdmF0ZUJ1dHRvblN1Ym1pdCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWdGb3JtLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgfVxyXG4gIC8vINC00LXQt9Cw0LrRgtC40LLQuNGA0YPRjiDQutC90L7Qv9C60YMg0YHQsNCx0LzQuNGCXHJcbiAgX2luYWN0aXZhdGVCdXR0b25TdWJtaXQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnRm9ybS5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gIH1cclxuXHJcbiAgLy8g0JzQtdC90Y/QtdC8INGC0LXQutGB0YIg0LrQvdC+0L/QutC4XHJcbiAgY2hhbmdlQnV0dG9uVGV4dCA9ICh0ZXh0KSA9PiB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gdGV4dDtcclxuICB9XHJcblxyXG4gIC8vINC/0YDQvtCy0LXRgNC60LAg0LLRgdC10YUg0LjQvdC/0YPRgtC+0LIg0YTQvtGA0LzRiyAtIHRydWUg0LXRgdC70Lgg0YXQvtGC0Ywg0L7QtNC40L0g0LjQtyDQuNC90L/Rg9GC0L7QsiDRhNC+0YDQvNGLINC90LXQstCw0LvQuNC00LXQvVxyXG4gIF9jaGVja0lucHV0c1ZhbGlkID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0RWxlbWVudHMuc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vINC00LXQu9Cw0Y4g0LrQvdC+0L/QutGDIHN1Ym1pdCDQsNC60YLQuNCy0L3QvtC5L9C90LXQsNC60YLQuNCy0L3QvtC5LCDQv9GA0L7QstC10YDRj9GPINCy0LDQu9C40LTQsNGG0LjRjiDQuNC90L/Rg9GC0L7QslxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuX2NoZWNrSW5wdXRzVmFsaWQoKSkge1xyXG4gICAgICB0aGlzLl9hY3RpdmF0ZUJ1dHRvblN1Ym1pdCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faW5hY3RpdmF0ZUJ1dHRvblN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0YPRgdGC0LDQvdCw0LLQu9C40LLQsNGOINGB0LvRg9GI0LDRgtC10LvQuCDQstGB0LXRhSDQuNC90L/Rg9GC0L7QsiDQuCDQt9Cw0L/Rg9GB0LrQsNGOINC80LXRgtC+0LTRi1xyXG4gIF9zZXRJbnB1dExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTsgLy8g0LTQviDRg9GB0YLQsNC90L7QstC60Lgg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0YPRgdGC0LDQvdCw0LLQu9C40LLQsNGOINCw0LrRgtC40LLQvdC+0YHRgtGML9C90LXQsNC60YIt0YLRjCDQutC90L7Qv9C60Lggc3VibWl0XHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vINC/0YPQsdC70LjRh9C90YvQuSDQvNC10YLQvtC0INCy0LDQu9C40LTQsNGG0LjQuCDQstGB0LXRhSDRhNC+0YDQvFxyXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9zZXRJbnB1dExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0L7Rh9C40YHRgtC60Lgg0L7RiNC40LHQvtC6INCy0LDQu9C40LTQsNGG0LjQuFxyXG4gIGNsZWFyRXJyb3JzTWVzc2FnZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX3BvcHVwSW5wdXRMaXN0LmZvckVhY2godGhpcy5faGlkZUVycm9yTWVzc2FnZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG5cclxuXHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3Ioe3Byb2ZpbGVUaXRsZVNlbGVjdG9yLCBwcm9maWxlU3VidGl0bGVTZWxlY3RvciwgcHJvZmlsZUF2YXRhclNlbGVjdG9yfSkge1xyXG4gICAgdGhpcy5fcHJpZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlVGl0bGVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wcmlmaWxlU3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVTdWJ0aXRsZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVBdmF0YXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wcm9maWxlSWQgPSAnJztcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvICgpIHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9wcmlmaWxlVGl0bGUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl9wcmlmaWxlU3VidGl0bGUudGV4dENvbnRlbnRcclxuICAgIH1cclxuICAgIHJldHVybiB1c2VyRGF0YTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvICh7bmFtZSwgYWJvdXQsIF9pZH0pIHtcclxuICAgIHRoaXMuX3ByaWZpbGVUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wcmlmaWxlU3VidGl0bGUudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICAgIHRoaXMuX3Byb2ZpbGVJZCA9IF9pZDtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXJMaW5rKSB7XHJcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IGF2YXRhckxpbms7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcHJvZmlsZUlkO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0L7RgtCy0LXRgtCwXHJcbiAgX2hhbmRsZVJlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgLy8g0L/QvtC70YPRh9C10L3QuNC1INC60LDRgNGC0L7Rh9C10LpcclxuICBnZXRDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgLy8g0LTQvtCx0LDQstC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIGFkZENhcmQoZGF0YUNhcmQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFDYXJkKVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgLy8g0L/QvtC70YPRh9C10L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0YDQvtGE0LjQu9C1XHJcbiAgZ2V0UHJvZmlsZSgpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgLy8g0JjRgdC/0YDQsNCy0LvQtdC90LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICBhZGRQcm9maWxlKGRhdGFOZXdBdXRob3IpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhTmV3QXV0aG9yKVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgLy8g0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIC8vINGD0LTQsNC70LXQvdC40LUg0LvQsNC50LrQsFxyXG4gIGRlbGV0ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvLyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQu9Cw0LnQutCwXHJcbiAgYWRkTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIC8vINC+0LHQvdC+0LLQu9C10L3QuNC1INCw0LLQsNGC0LDRgNC60LhcclxuICB1cGRhdGVBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGF2YXRhcilcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcclxuICB9XHJcbn1cclxuIiwiLy8g0LrQvtC90YTQuNCzINC00LvRjyDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LxcclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zdWJtaXQtYnV0dG9uJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3N1Ym1pdC1idXR0b25fZGlzYWJsZWQnLFxyXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZSdcclxufTtcclxuXHJcbi8vINC/0YDQvtGE0LjQu9GMINCw0LLRgtC+0YDQsFxyXG5jb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IGRhdGFQcm9maWxlU2VsZWN0b3JzID0ge1xyXG4gIHByb2ZpbGVUaXRsZVNlbGVjdG9yOiAnLnByb2ZpbGVfX3RpdGxlJyxcclxuICBwcm9maWxlU3VidGl0bGVTZWxlY3RvcjogJy5wcm9maWxlX19zdWJ0aXRsZScsXHJcbiAgcHJvZmlsZUF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2F2YXRhcidcclxufVxyXG4vLyDQsNCy0LDRgtCw0YBcclxuZXhwb3J0IGNvbnN0IGF2YXRhck92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fb3ZlcmxheS1hdmF0YXInKTtcclxuXHJcbi8vINC60L3QvtC/0LrQuFxyXG5leHBvcnQgY29uc3QgYnV0dG9uRWRpdCA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBidXR0b25BZGQgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XHJcblxyXG4vLyDQv9C+0L/QsNC/0YtcclxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZUVkaXRTZWxlY3RvciA9ICcucG9wdXBfdHlwZV9lZGl0JztcclxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZUFkZFNlbGVjdG9yID0gJy5wb3B1cF90eXBlX2FkZCc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFR5cGVJbWFnZVNlbGVjdG9yID0gJy5wb3B1cF90eXBlX2ltYWdlJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZUNvbmZpcm1TZWxlY3RvciA9ICcucG9wdXBfdHlwZV9jb25maXJtJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZUF2YXRhclNlbGVjdG9yID0gJy5wb3B1cF90eXBlX2F2YXRhcic7XHJcblxyXG4vLyDQutC+0L3RgtC10LnQvdC10YAg0LTQu9GPINC60LDRgNGC0L7Rh9C10LpcclxuZXhwb3J0IGNvbnN0IGNvbnRhaW5lckZvckNhcmRzU2VsZWN0b3IgPSAnLmVsZW1lbnRzX19saXN0JztcclxuXHJcbi8vIHRlbXBsYXRlXHJcbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZVNlbGVjdG9yID0gJy5lbGVtZW50LXRlbXBsYXRlJztcclxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aFN1Ym1pdCBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvJztcclxuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XHJcbmltcG9ydCB7XHJcbiAgcG9wdXBUeXBlRWRpdFNlbGVjdG9yLFxyXG4gIHBvcHVwVHlwZUFkZFNlbGVjdG9yLFxyXG4gIHBvcHVwVHlwZUltYWdlU2VsZWN0b3IsXHJcbiAgcG9wdXBUeXBlQ29uZmlybVNlbGVjdG9yLFxyXG4gIHBvcHVwVHlwZUF2YXRhclNlbGVjdG9yLFxyXG4gIGF2YXRhck92ZXJsYXksXHJcbiAgZGF0YVByb2ZpbGVTZWxlY3RvcnMsXHJcbiAgY29uZmlnLFxyXG4gIGJ1dHRvbkVkaXQsXHJcbiAgYnV0dG9uQWRkLFxyXG4gIHRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgY29udGFpbmVyRm9yQ2FyZHNTZWxlY3RvclxyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLSDQktCQ0JvQmNCU0JDQptCY0K8g0KTQntCg0JwgTElWRS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IGZvcm1BdXRob3JWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGRvY3VtZW50LmZvcm1zLmZvcm1BdXRob3IpO1xyXG5jb25zdCBmb3JtQ2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZG9jdW1lbnQuZm9ybXMuZm9ybUNhcmQpO1xyXG5jb25zdCBmb3JtQXZhdGFyVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBkb2N1bWVudC5mb3Jtcy5mb3JtQXZhdGFyKTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQVBJIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yNicsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJ2VmOWM0ZGZmLTRjZWYtNDE3Yi1hNGRkLTg1ZjZkNGJhM2ZlZicsXHJcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINCf0J7Qn9CQ0J8g0KEg0JjQl9Ce0JHQoNCQ0JbQldCd0JjQldCcINCa0JDQoNCi0J7Qp9Ca0JhcclxuY29uc3QgcG9wdXBUeXBlSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBUeXBlSW1hZ2VTZWxlY3Rvcik7XHJcbnBvcHVwVHlwZUltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyDQn9Ce0J/QkNCfINChINCf0J7QlNCi0JLQldCg0JbQlNCV0J3QmNCV0Jwg0KPQlNCQ0JvQldCd0JjQryDQmtCQ0KDQotCe0KfQmtCYXHJcbmNvbnN0IHBvcHVwVHlwZUNvbmZpcm0gPSBuZXcgUG9wdXBXaXRoU3VibWl0KFxyXG4gIGZ1bmN0aW9uIGhhbmRsZXJTdWJtaXRGb3JtKGNhcmQpIHtcclxuICAgIC8vY29uc29sZS5sb2coY2FyZC5jYXJkSWQpO1xyXG4gICAgYXBpLmRlbGV0ZUNhcmQoY2FyZC5jYXJkSWQpXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09PSBcItCf0L7RgdGCINGD0LTQsNC70ZHQvVwiKSB7XHJcbiAgICAgICAgICBjYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgICAgICAgIHBvcHVwVHlwZUNvbmZpcm0uY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChyZWogPT4gY29uc29sZS5sb2cocmVqKSk7XHJcbiAgfSxcclxuICBwb3B1cFR5cGVDb25maXJtU2VsZWN0b3IpO1xyXG5wb3B1cFR5cGVDb25maXJtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0g0J7QkdCq0JXQmtCiINChINCe0JHQoNCQ0JHQntCi0KfQmNCa0JDQnNCYIC0tLS0tLS0tLS0tLS1cclxuY29uc3QgaGFuZGxlcnNDYXJkQ2xpY2sgPSB7XHJcblxyXG4gIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG4gIGhhbmRsZURlbGV0ZUNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgIHBvcHVwVHlwZUNvbmZpcm0ub3Blbih0aGlzKTtcclxuICB9LFxyXG5cclxuICAvLyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQu9Cw0LnQutCwXHJcbiAgaGFuZGxlTGlrZUNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgIGNvbnN0IGxpa2UgPSB0aGlzLmlzTGlrZWQoKSA/IGFwaS5kZWxldGVMaWtlKHRoaXMuY2FyZElkKSA6IGFwaS5hZGRMaWtlKHRoaXMuY2FyZElkKTtcclxuICAgIGxpa2UudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHRoaXMubGlrZXMgPSByZXMubGlrZXM7XHJcbiAgICAgIHRoaXMudXBkYXRlUXVhbnRpdHlMaWtlKCk7XHJcbiAgICAgIHRoaXMudG9nZ2xlTGlrZUljb24oKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2gocmVqID0+IGNvbnNvbGUocmVqKSk7XHJcbiAgfSxcclxuXHJcbiAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCDQv9C+INC40LfQvtCx0YDQsNC20LXQvdC40Y4g0LrQsNGA0YLQvtGH0LrQuFxyXG4gIGhhbmRsZUltZ0NsaWNrOiAoZGF0YSkgPT4ge1xyXG4gICAgcG9wdXBUeXBlSW1hZ2Uub3BlbihkYXRhKTtcclxuICB9XHJcbn1cclxuXHJcbi8vINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0LrQsNGA0YLQvtGH0LXQulxyXG5mdW5jdGlvbiBjb25zdHJ1Y3ROZXdDYXJkKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZXJzQ2FyZENsaWNrKSB7XHJcbiAgY29uc3QgdXNlcklkID0gdXNlckluZm8uZ2V0VXNlcklkKCk7XHJcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZXJzQ2FyZENsaWNrLCB1c2VySWQpO1xyXG4gIHJldHVybiBuZXdDYXJkLmNyZWF0ZUNhcmQoKTtcclxufVxyXG5cclxuLy8g0L/RgNC+0YTQuNC70YxcclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oZGF0YVByb2ZpbGVTZWxlY3RvcnMpO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLSDQl9CQ0JPQoNCj0JfQmtCQINCY0J3QpNCe0KDQnNCQ0KbQmNCYIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblByb21pc2UuYWxsKFthcGkuZ2V0UHJvZmlsZSgpLCBhcGkuZ2V0Q2FyZHMoKV0pXHJcbiAgLnRoZW4oKFtwcm9maWxlSW5mbywgY2FyZHNJbmZvXSkgPT4ge1xyXG5cclxuICAgIC8vINC30LDQv9C+0LvQvdC10L3QuNC1INC/0YDQvtGE0LjQu9GPXHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhwcm9maWxlSW5mbyk7XHJcbiAgICB1c2VySW5mby51cGRhdGVBdmF0YXIocHJvZmlsZUluZm8uYXZhdGFyKVxyXG5cclxuICAgIC8vINC30LDQv9C+0LvQvdC10L3QuNC1INC60LDRgNGC0L7Rh9C60LDQvNC4XHJcbiAgICBjb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcclxuICAgICAgZnVuY3Rpb24gcmVuZGVyZXIoaXRlbSkge1xyXG4gICAgICAgIGNvbnN0IG5ld0NhcmQgPSBjb25zdHJ1Y3ROZXdDYXJkKGl0ZW0sIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZXJzQ2FyZENsaWNrKTtcclxuICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShuZXdDYXJkKTtcclxuICAgICAgfSxcclxuICAgICAgY29udGFpbmVyRm9yQ2FyZHNTZWxlY3Rvcik7XHJcbiAgICBjYXJkc0xpc3QucmVuZGVyZXJJdGVtcyhjYXJkc0luZm8pO1xyXG5cclxuICAgIC8vIC0tLS0tINCf0J7Qn9CQ0J8g0JTQntCR0JDQktCb0JXQndCY0K8g0J3QntCS0J7QmSDQmtCQ0KDQotCe0KfQmtCYINCf0J7Qm9Cs0JfQntCS0JDQotCV0JvQryAtLS0tLVxyXG4gICAgY29uc3QgcG9wdXBUeXBlQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXJTdWJtaXRGb3JtQ2FyZChkYXRhQ2FyZCkge1xyXG4gICAgICAgIGZvcm1DYXJkVmFsaWRhdG9yLmNoYW5nZUJ1dHRvblRleHQoJ9Ch0L7Qt9C00LDQvdC40LUuLi4nKTtcclxuICAgICAgICBhcGkuYWRkQ2FyZChkYXRhQ2FyZClcclxuICAgICAgICAgIC50aGVuKHJlc3BvbnMgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdDYXJkID0gY29uc3RydWN0TmV3Q2FyZChyZXNwb25zLCB0ZW1wbGF0ZVNlbGVjdG9yLCBoYW5kbGVyc0NhcmRDbGljayk7XHJcbiAgICAgICAgICAgIGNhcmRzTGlzdC5hZGRJdGVtVG9Ub3AobmV3Q2FyZCk7XHJcbiAgICAgICAgICAgIHBvcHVwVHlwZUFkZC5jbG9zZSgpO1xyXG4gICAgICAgICAgICBmb3JtQ2FyZFZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgICAgICBmb3JtQ2FyZFZhbGlkYXRvci5jaGFuZ2VCdXR0b25UZXh0KCfQodC+0LfQtNCw0YLRjCcpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChyZWogPT4gY29uc29sZS5sb2cocmVqKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHBvcHVwVHlwZUFkZFNlbGVjdG9yKTtcclxuICAgIHBvcHVwVHlwZUFkZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0g0J/QntCf0JDQnyDQkNCS0KLQntCg0JAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBjb25zdCBwb3B1cFR5cGVFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXJTdWJtaXRGb3JtQXV0aG9yKGRhdGFBdXRob3IpIHtcclxuICAgICAgICBmb3JtQXV0aG9yVmFsaWRhdG9yLmNoYW5nZUJ1dHRvblRleHQoJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyk7XHJcbiAgICAgICAgYXBpLmFkZFByb2ZpbGUoZGF0YUF1dGhvcilcclxuICAgICAgICAgIC50aGVuKHJlc3BvbnMgPT4ge1xyXG4gICAgICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXNwb25zKTtcclxuICAgICAgICAgICAgcG9wdXBUeXBlRWRpdC5jbG9zZSgpO1xyXG4gICAgICAgICAgICBmb3JtQXV0aG9yVmFsaWRhdG9yLmNoYW5nZUJ1dHRvblRleHQoJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChyZWogPT4gY29uc29sZS5sb2cocmVqKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHBvcHVwVHlwZUVkaXRTZWxlY3Rvcik7XHJcbiAgICBwb3B1cFR5cGVFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tINCf0J7Qn9CQ0J8g0JDQktCQ0KLQkNCg0JrQmCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGNvbnN0IHBvcHVwVHlwZUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyU3VibWl0Rm9ybUF2YXRhcihhdmF0YXIpIHtcclxuICAgICAgICBmb3JtQXZhdGFyVmFsaWRhdG9yLmNoYW5nZUJ1dHRvblRleHQoJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyk7XHJcbiAgICAgICAgYXBpLnVwZGF0ZUF2YXRhcihhdmF0YXIpXHJcbiAgICAgICAgICAudGhlbigoe2F2YXRhcn0pID0+IHtcclxuICAgICAgICAgICAgdXNlckluZm8udXBkYXRlQXZhdGFyKGF2YXRhcik7XHJcbiAgICAgICAgICAgIHBvcHVwVHlwZUF2YXRhci5jbG9zZSgpO1xyXG4gICAgICAgICAgICBmb3JtQXZhdGFyVmFsaWRhdG9yLmNoYW5nZUJ1dHRvblRleHQoJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChyZWogPT4gY29uc29sZS5sb2cocmVqKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHBvcHVwVHlwZUF2YXRhclNlbGVjdG9yKTtcclxuICAgIHBvcHVwVHlwZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0g0J7QotCa0KDQq9Ci0JjQlSDQn9Ce0J/QkNCf0JAg0KDQldCU0JDQmtCi0JjQoNCe0JLQkNCd0JjQryDQn9Cg0J7QpNCY0JvQryAtLS0tLS0tLS0tLVxyXG4gICAgZnVuY3Rpb24gaGFuZGxlckNsaWNrQnV0dG9uRWRpdCgpIHtcclxuICAgICAgcG9wdXBUeXBlRWRpdC5zZXRJbnB1dFZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcclxuICAgICAgZm9ybUF1dGhvclZhbGlkYXRvci5jbGVhckVycm9yc01lc3NhZ2UoKTtcclxuICAgICAgcG9wdXBUeXBlRWRpdC5vcGVuKCk7XHJcbiAgICB9XHJcbiAgICBidXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlckNsaWNrQnV0dG9uRWRpdCk7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tINCe0KLQmtCg0KvQotCY0JUg0J/QntCf0JDQn9CQINCU0J7QkdCQ0JLQm9CV0J3QmNCvINCa0JDQoNCi0J7Qp9Ca0JggLS0tLS0tLS0tLS0tLVxyXG4gICAgYnV0dG9uQWRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBmb3JtQ2FyZFZhbGlkYXRvci5jbGVhckVycm9yc01lc3NhZ2UoKTtcclxuICAgICAgcG9wdXBUeXBlQWRkLm9wZW4oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vICAtLS0tLS0tLS0tLS0tLS0tLSDQntCi0JrQoNCr0KLQmNCVINCf0J7Qn9CQ0J/QkCDQkNCS0JDQotCQ0KDQmtCYIC0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgYXZhdGFyT3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgZm9ybUF2YXRhclZhbGlkYXRvci5jbGVhckVycm9yc01lc3NhZ2UoKTtcclxuICAgICAgZm9ybUF2YXRhclZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICBwb3B1cFR5cGVBdmF0YXIub3BlbigpO1xyXG4gICAgfSk7XHJcbiAgfSlcclxuLmNhdGNoKHJlaiA9PiBjb25zb2xlLmxvZyhyZWopKVxyXG4uZmluYWxseSgoKSA9PiB7XHJcbiAgLy8g0LfQsNC/0YPRgdC6INCy0LDQu9C40LTQsNGG0LjQuFxyXG4gIGZvcm1DYXJkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICBmb3JtQXV0aG9yVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICBmb3JtQXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=