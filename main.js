(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const t=function t(n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,"rendererItems",(function(e){e.forEach((function(e){o._renderer(e)}))})),e(this,"addItem",(function(e){o._containerForAddItem.append(e)})),e(this,"addItemToTop",(function(e){o._containerForAddItem.prepend(e)})),this._containerForAddItem=document.querySelector(r),this._renderer=n};function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),r(this,"_handlerClickClose",(function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__icon-close"))&&n.close()})),this._popup=document.querySelector(t)}var t,o;return t=e,(o=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_opened")}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){this._popup.addEventListener("mousedown",this._handlerClickClose)}}])&&n(t.prototype,o),e}();function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=s(t);if(n){var o=s(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return c(this,e)});function o(e){var t,n,i,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),c=function(e){var r=e.link,i=e.title;n._popupImage.src=r,n._popupImage.alt="Увеличенное изображение ".concat(i),n._popupSignature.textContent=i,l((t=u(n),s(o.prototype)),"open",t).call(t)},(a="open")in(i=u(n=r.call(this,e)))?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i.open=c,n._popup=document.querySelector(e),n._popupImage=n._popup.querySelector(".popup__image"),n._popupSignature=n._popup.querySelector(".popup__image-signature"),n}return o}(o);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),v(m(n=i.call(this,t)),"_getInputValues",(function(){var e={};return n._popupInputs.forEach((function(t){e[t.name]=t.value})),e})),v(m(n),"setInputValues",(function(e){n._popupInputs.forEach((function(t){t.value=e[t.name]}))})),v(m(n),"_handlerSubmit",(function(e){e.preventDefault(),n._handlerSubmitForm(n._getInputValues())})),n._formElement=n._popup.querySelector(".popup__container"),n._handlerSubmitForm=e,n._popupInputs=Array.from(n._popup.querySelectorAll(".popup__input")),n}return t=a,(n=[{key:"setEventListeners",value:function(){d(b(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",this._handlerSubmit)}},{key:"close",value:function(){d(b(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&h(t.prototype,n),a}(o);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function a(e,t){var n,r,o,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),c=function(e){e.preventDefault(),n._handlerSubmitForm(n.card)},(o="_handlerSubmit")in(r=L(n=i.call(this,t)))?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,n._handlerSubmitForm=e,n._formElement=n._popup.querySelector(".popup__container"),n}return t=a,(n=[{key:"setEventListeners",value:function(){S(O(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",this._handlerSubmit)}},{key:"close",value:function(){S(O(a.prototype),"close",this).call(this)}},{key:"open",value:function(e){S(O(a.prototype),"open",this).call(this),this.card=e}}])&&k(t.prototype,n),a}(o);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=function(){function e(t,n,r,o){var i=this,a=r.handleDeleteClick,c=r.handleLikeClick,u=r.handleImgClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,"_cloneTemplateElement",(function(){i._cardNewElement=i._templateElement.querySelector(".element").cloneNode(!0)})),j(this,"_takeElementsCard",(function(){i._imgElement=i._cardNewElement.querySelector(".element__img"),i._overlayImgElement=i._cardNewElement.querySelector(".element__overlay-img"),i._titleElement=i._cardNewElement.querySelector(".element__title"),i._likeQuantity=i._cardNewElement.querySelector(".element__like-quantity"),i._buttonLike=i._cardNewElement.querySelector(".element__icon-like"),i._buttonDelete=i._cardNewElement.querySelector(".element__icon-delete")})),j(this,"_compareOwner",(function(){i._ownerId!==i._myProfileId?(i._buttonDelete.remove(),i._flag=!1):i._flag=!0})),j(this,"_fillDataCard",(function(){i._imgElement.src=i._link,i._imgElement.alt=i._title,i._titleElement.textContent=i._title,i.updateQuantityLike()})),j(this,"_setEventListeners",(function(){i._buttonLike.addEventListener("click",(function(){i._handleLikeClick(i)})),i._flag&&i._buttonDelete.addEventListener("click",(function(){i._handleDeleteClick(i)})),i._overlayImgElement.addEventListener("click",(function(){i._handleImgClick({link:i._link,title:i._title})}))})),j(this,"createCard",(function(){return i._cloneTemplateElement(),i._takeElementsCard(),i._compareOwner(),i._fillDataCard(),i.toggleLikeIcon(),i._setEventListeners(),i._cardNewElement})),this._templateElement=document.querySelector(n).content,this._title=t.name,this._link=t.link,this._handleImgClick=u,this._handleLikeClick=c,this._handleDeleteClick=a,this.likes=t.likes,this._ownerId=t.owner._id,this.cardId=t._id,this._data=t,this._myProfileId=o}var t,n;return t=e,(n=[{key:"updateQuantityLike",value:function(){this._likeQuantity.textContent=this.likes.length}},{key:"toggleLikeIcon",value:function(){this.isLiked()?this._buttonLike.classList.add("element__icon-like_active"):this._buttonLike.classList.remove("element__icon-like_active")}},{key:"isLiked",value:function(){var e=this;return this.likes.some((function(t){return t._id===e._myProfileId}))}},{key:"removeCard",value:function(){this._cardNewElement.remove()}}])&&P(t.prototype,n),e}();function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,"_showErrorMessage",(function(e){var t=r._formElement.querySelector(".".concat(e.id,"-error")),n=e.validationMessage;t.textContent=n,e.classList.add(r._configForm.inputErrorClass),t.classList.add(r._configForm.errorClass)})),R(this,"_hideErrorMessage",(function(e){var t=r._formElement.querySelector(".".concat(e.id,"-error"));t.textContent="",e.classList.remove(r._configForm.inputErrorClass),t.classList.remove(r._configForm.errorClass)})),R(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideErrorMessage(e):r._showErrorMessage(e)})),R(this,"_activateButtonSubmit",(function(){r._buttonElement.classList.add(r._configForm.inactiveButtonClass),r._buttonElement.setAttribute("disabled","disabled")})),R(this,"_inactivateButtonSubmit",(function(){r._buttonElement.classList.remove(r._configForm.inactiveButtonClass),r._buttonElement.removeAttribute("disabled")})),R(this,"changeButtonText",(function(e){r._buttonElement.textContent=e})),R(this,"_checkInputsValid",(function(){return r._inputElements.some((function(e){return!e.validity.valid}))})),R(this,"toggleButtonState",(function(){r._checkInputsValid()?r._activateButtonSubmit():r._inactivateButtonSubmit()})),R(this,"_setInputListeners",(function(){r.toggleButtonState(),r._inputElements.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r.toggleButtonState()}))}))})),R(this,"enableValidation",(function(){r._setInputListeners()})),R(this,"clearErrorsMessage",(function(){r._popupInputList.forEach(r._hideErrorMessage)})),this._formElement=n,this._buttonElement=n.querySelector(t.submitButtonSelector),this._inputElements=Array.from(n.querySelectorAll(t.inputSelector)),this._configForm=t,this._popupInputList=Array.from(this._formElement.querySelectorAll(t.inputSelector))};function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t){var n=t.profileTitleSelector,r=t.profileSubtitleSelector,o=t.profileAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._prifileTitle=document.querySelector(n),this._prifileSubtitle=document.querySelector(r),this._profileAvatar=document.querySelector(o),this._profileId=""}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._prifileTitle.textContent,about:this._prifileSubtitle.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e._id;this._prifileTitle.textContent=t,this._prifileSubtitle.textContent=n,this._profileId=r}},{key:"updateAvatar",value:function(e){this._profileAvatar.src=e}},{key:"getUserId",value:function(){return this._profileId}}])&&q(t.prototype,n),e}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Произошла ошибка: ".concat(e.status))}},{key:"getCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"getProfile",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"addProfile",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"updateAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}}])&&x(t.prototype,n),e}(),D={inputSelector:".popup__input",inputErrorClass:"popup__input_type_error",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disabled",errorClass:"popup__error_visible"},F=document.querySelector(".profile"),N=document.querySelector(".profile__overlay-avatar"),V=F.querySelector(".profile__edit-button"),M=F.querySelector(".profile__add-button"),Q=".element-template";function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=new A(D,document.forms.formAuthor),H=new A(D,document.forms.formCard),z=new A(D,document.forms.formAvatar),$=new U({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-26",headers:{authorization:"ef9c4dff-4cef-417b-a4dd-85f6d4ba3fef","Content-Type":"application/json"}}),K=new f(".popup_type_image");K.setEventListeners();var W=new I((function(e){$.deleteCard(e.cardId).then((function(t){"Пост удалён"===t.message&&(e.removeCard(),W.close())})).catch((function(e){return console.log(e)}))}),".popup_type_confirm");W.setEventListeners();var X={handleDeleteClick:function(){W.open(this)},handleLikeClick:function(){var e=this;(this.isLiked()?$.deleteLike(this.cardId):$.addLike(this.cardId)).then((function(t){e.likes=t.likes,e.updateQuantityLike(),e.toggleLikeIcon()})).catch((function(e){return console(e)}))},handleImgClick:function(e){K.open(e)}};function Y(e,t,n){var r=Z.getUserId();return new T(e,t,n,r).createCard()}var Z=new B({profileTitleSelector:".profile__title",profileSubtitleSelector:".profile__subtitle",profileAvatarSelector:".profile__avatar"});Promise.all([$.getProfile(),$.getCards()]).then((function(e){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];Z.setUserInfo(i),Z.updateAvatar(i.avatar);var c=new t((function(e){var t=Y(e,Q,X);c.addItem(t)}),".elements__list");c.rendererItems(a);var u=new g((function(e){H.changeButtonText("Создание..."),$.addCard(e).then((function(e){var t=Y(e,Q,X);c.addItemToTop(t),u.close(),H.toggleButtonState(),H.changeButtonText("Создать")})).catch((function(e){return console.log(e)}))}),".popup_type_add");u.setEventListeners();var l=new g((function(e){G.changeButtonText("Сохранение..."),$.addProfile(e).then((function(e){Z.setUserInfo(e),l.close(),G.changeButtonText("Сохранить")})).catch((function(e){return console.log(e)}))}),".popup_type_edit");l.setEventListeners();var s=new g((function(e){z.changeButtonText("Сохранение..."),$.updateAvatar(e).then((function(e){var t=e.avatar;Z.updateAvatar(t),s.close(),z.changeButtonText("Сохранить")})).catch((function(e){return console.log(e)}))}),".popup_type_avatar");s.setEventListeners(),V.addEventListener("click",(function(){l.setInputValues(Z.getUserInfo()),G.clearErrorsMessage(),l.open()})),M.addEventListener("click",(function(){H.clearErrorsMessage(),u.open()})),N.addEventListener("click",(function(){z.clearErrorsMessage(),z.toggleButtonState(),s.open()}))})).catch((function(e){return console.log(e)})).finally((function(){H.enableValidation(),G.enableValidation(),z.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsImZvckVhY2giLCJpdGVtIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lckZvckFkZEl0ZW0iLCJhcHBlbmQiLCJwcmVwZW5kIiwidGhpcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiX3BvcHVwIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVFc2NDbG9zZSIsImFkZCIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlckNsaWNrQ2xvc2UiLCJsaW5rIiwidGl0bGUiLCJfcG9wdXBJbWFnZSIsInNyYyIsImFsdCIsIl9wb3B1cFNpZ25hdHVyZSIsInRleHRDb250ZW50IiwiUG9wdXAiLCJoYW5kbGVyU3VibWl0Rm9ybSIsInZhbHVlSW5wdXRzIiwiX3BvcHVwSW5wdXRzIiwiaW5wdXQiLCJuYW1lIiwidmFsdWUiLCJkYXRhIiwicHJldmVudERlZmF1bHQiLCJfaGFuZGxlclN1Ym1pdEZvcm0iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfZm9ybUVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2hhbmRsZXJTdWJtaXQiLCJyZXNldCIsIlBvcHVwV2l0aFN1Ym1pdCIsImNhcmQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwidXNlcklkIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVJbWdDbGljayIsIl9jYXJkTmV3RWxlbWVudCIsIl90ZW1wbGF0ZUVsZW1lbnQiLCJjbG9uZU5vZGUiLCJfaW1nRWxlbWVudCIsIl9vdmVybGF5SW1nRWxlbWVudCIsIl90aXRsZUVsZW1lbnQiLCJfbGlrZVF1YW50aXR5IiwiX2J1dHRvbkxpa2UiLCJfYnV0dG9uRGVsZXRlIiwiX293bmVySWQiLCJfbXlQcm9maWxlSWQiLCJfZmxhZyIsIl9saW5rIiwiX3RpdGxlIiwidXBkYXRlUXVhbnRpdHlMaWtlIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVJbWdDbGljayIsIl9jbG9uZVRlbXBsYXRlRWxlbWVudCIsIl90YWtlRWxlbWVudHNDYXJkIiwiX2NvbXBhcmVPd25lciIsIl9maWxsRGF0YUNhcmQiLCJ0b2dnbGVMaWtlSWNvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsImNvbnRlbnQiLCJsaWtlcyIsIm93bmVyIiwiX2lkIiwiY2FyZElkIiwiX2RhdGEiLCJsZW5ndGgiLCJpc0xpa2VkIiwic29tZSIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3IiLCJpZCIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2NvbmZpZ0Zvcm0iLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlRXJyb3JNZXNzYWdlIiwiX3Nob3dFcnJvck1lc3NhZ2UiLCJfYnV0dG9uRWxlbWVudCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0ZXh0IiwiX2lucHV0RWxlbWVudHMiLCJfY2hlY2tJbnB1dHNWYWxpZCIsIl9hY3RpdmF0ZUJ1dHRvblN1Ym1pdCIsIl9pbmFjdGl2YXRlQnV0dG9uU3VibWl0IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3NldElucHV0TGlzdGVuZXJzIiwiX3BvcHVwSW5wdXRMaXN0Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiVXNlckluZm8iLCJwcm9maWxlVGl0bGVTZWxlY3RvciIsInByb2ZpbGVTdWJ0aXRsZVNlbGVjdG9yIiwicHJvZmlsZUF2YXRhclNlbGVjdG9yIiwiX3ByaWZpbGVUaXRsZSIsIl9wcmlmaWxlU3VidGl0bGUiLCJfcHJvZmlsZUF2YXRhciIsIl9wcm9maWxlSWQiLCJhYm91dCIsImF2YXRhckxpbmsiLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9oYW5kbGVSZXNwb25zZSIsImRhdGFDYXJkIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhTmV3QXV0aG9yIiwiYXZhdGFyIiwicHJvZmlsZSIsImF2YXRhck92ZXJsYXkiLCJidXR0b25FZGl0IiwiYnV0dG9uQWRkIiwiZm9ybUF1dGhvclZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtcyIsImZvcm1BdXRob3IiLCJmb3JtQ2FyZFZhbGlkYXRvciIsImZvcm1DYXJkIiwiZm9ybUF2YXRhclZhbGlkYXRvciIsImZvcm1BdmF0YXIiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwicG9wdXBUeXBlSW1hZ2UiLCJQb3B1cFdpdGhJbWFnZSIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBUeXBlQ29uZmlybSIsImRlbGV0ZUNhcmQiLCJtZXNzYWdlIiwicmVtb3ZlQ2FyZCIsImNhdGNoIiwicmVqIiwiY29uc29sZSIsImxvZyIsImhhbmRsZXJzQ2FyZENsaWNrIiwib3BlbiIsImRlbGV0ZUxpa2UiLCJhZGRMaWtlIiwiY29uc3RydWN0TmV3Q2FyZCIsInVzZXJJbmZvIiwiZ2V0VXNlcklkIiwiQ2FyZCIsImNyZWF0ZUNhcmQiLCJhbGwiLCJnZXRQcm9maWxlIiwiZ2V0Q2FyZHMiLCJwcm9maWxlSW5mbyIsImNhcmRzSW5mbyIsInNldFVzZXJJbmZvIiwidXBkYXRlQXZhdGFyIiwiY2FyZHNMaXN0IiwiU2VjdGlvbiIsIm5ld0NhcmQiLCJhZGRJdGVtIiwicmVuZGVyZXJJdGVtcyIsInBvcHVwVHlwZUFkZCIsIlBvcHVwV2l0aEZvcm0iLCJjaGFuZ2VCdXR0b25UZXh0IiwiYWRkQ2FyZCIsInJlc3BvbnMiLCJhZGRJdGVtVG9Ub3AiLCJwb3B1cFR5cGVFZGl0IiwiZGF0YUF1dGhvciIsImFkZFByb2ZpbGUiLCJwb3B1cFR5cGVBdmF0YXIiLCJzZXRJbnB1dFZhbHVlcyIsImdldFVzZXJJbmZvIiwiY2xlYXJFcnJvcnNNZXNzYWdlIiwiZmluYWxseSIsImVuYWJsZVZhbGlkYXRpb24iXSwibWFwcGluZ3MiOiIySUFzQkEsUUFyQkUsV0FBYUEsRUFBVUMsR0FBbUIsWSw0RkFBQSxpQ0FLMUIsU0FBQ0MsR0FDZkEsRUFBTUMsU0FBUSxTQUFBQyxHQUNaLEVBQUtDLFVBQVVELFNBUHVCLGtCQVdoQyxTQUFDQSxHQUNULEVBQUtFLHFCQUFxQkMsT0FBT0gsTUFaTyx1QkFlM0IsU0FBQ0EsR0FDZCxFQUFLRSxxQkFBcUJFLFFBQVFKLE1BZmxDSyxL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QUFaTyxFQUFZLEVBQVpBLE9BQ04rQixFQUFTVSxhQUFhekMsR0FDdEJ3RCxFQUFnQi9MLFFBQ2hCa0osRUFBb0JzQyxpQkFBaUIsZ0JBRXRDM0IsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLFFEOUhHLHNCQ2lJbkNpQyxFQUFnQnZDLG9CQVFoQmQsbUJBQTRCLFNBTDVCLFdBQ0VrRCxFQUFjSSxlQUFlMUIsRUFBUzJCLGVBQ3RDckQsRUFBb0JzRCxxQkFDcEJOLEVBQWMxQixVQUtoQnZCLG1CQUEyQixTQUFTLFdBQ2xDSyxFQUFrQmtELHFCQUNsQlosRUFBYXBCLFVBSWZ6QixtQkFBK0IsU0FBUyxXQUN0Q1MsRUFBb0JnRCxxQkFDcEJoRCxFQUFvQmhELG9CQUNwQjZGLEVBQWdCN0IsYUFHckJMLE9BQU0sU0FBQUMsR0FBRyxPQUFJQyxRQUFRQyxJQUFJRixNQUN6QnFDLFNBQVEsV0FFUG5ELEVBQWtCb0QsbUJBQ2xCeEQsRUFBb0J3RCxtQkFDcEJsRCxFQUFvQmtELHVCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvciAocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXJGb3JBZGRJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyZXJJdGVtcyA9IChpdGVtcykgPT4ge1xyXG4gICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0gPSAoaXRlbSkgPT4ge1xyXG4gICAgdGhpcy5fY29udGFpbmVyRm9yQWRkSXRlbS5hcHBlbmQoaXRlbSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtVG9Ub3AgPSAoaXRlbSkgPT4ge1xyXG4gICAgdGhpcy5fY29udGFpbmVyRm9yQWRkSXRlbS5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XHJcbiIsImNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBvcGVuICgpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuXHJcbiAgfVxyXG5cclxuICBjbG9zZSAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZXJDbGlja0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2ljb24tY2xvc2UnKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVyQ2xpY2tDbG9zZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG4gICAgdGhpcy5fcG9wdXBTaWduYXR1cmUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLXNpZ25hdHVyZScpO1xyXG4gIH1cclxuXHJcbiAgb3BlbiA9ICh7bGluaywgdGl0bGV9KSA9PiB7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGDQo9Cy0LXQu9C40YfQtdC90L3QvtC1INC40LfQvtCx0YDQsNC20LXQvdC40LUgJHt0aXRsZX1gO1xyXG4gICAgdGhpcy5fcG9wdXBTaWduYXR1cmUudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEltYWdlO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IgKGhhbmRsZXJTdWJtaXRGb3JtLCBwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb250YWluZXInKTtcclxuICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtID0gaGFuZGxlclN1Ym1pdEZvcm07XHJcbiAgICB0aGlzLl9wb3B1cElucHV0cyA9IEFycmF5LmZyb20odGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHZhbHVlSW5wdXRzID0ge31cclxuICAgIHRoaXMuX3BvcHVwSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHZhbHVlSW5wdXRzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZUlucHV0cztcclxuICB9XHJcblxyXG4gIHNldElucHV0VmFsdWVzID0gKGRhdGEpID0+IHtcclxuICAgIHRoaXMuX3BvcHVwSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZXJTdWJtaXQgPSAoZXZ0KSA9PiB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZXJTdWJtaXQpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UgKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aFN1Ym1pdCBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihoYW5kbGVyU3VibWl0Rm9ybSwgcG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVyU3VibWl0Rm9ybSA9IGhhbmRsZXJTdWJtaXRGb3JtO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRhaW5lcicpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZXJTdWJtaXQgPSAoZXZ0KSA9PiB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtKHRoaXMuY2FyZCk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5faGFuZGxlclN1Ym1pdCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSAoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihjYXJkKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLmNhcmQgPSBjYXJkO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvciAoZGF0YSwgdGVtcGxhdGVTZWxlY3Rvciwge2hhbmRsZURlbGV0ZUNsaWNrLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZUltZ0NsaWNrfSwgdXNlcklkKSB7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRlbXBsYXRlU2VsZWN0b3IpLmNvbnRlbnQ7XHJcbiAgICB0aGlzLl90aXRsZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWdDbGljayA9IGhhbmRsZUltZ0NsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMubGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5jYXJkSWQgPSBkYXRhLl9pZFxyXG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLl9teVByb2ZpbGVJZCA9IHVzZXJJZDtcclxuICB9XHJcblxyXG4gIC8vINC60LvQvtC90LjRgNGD0LXQvCB0ZW1wbGF0ZVxyXG4gICAgX2Nsb25lVGVtcGxhdGVFbGVtZW50ID0gKCkgPT4ge1xyXG4gICAgICB0aGlzLl9jYXJkTmV3RWxlbWVudCA9IHRoaXMuX3RlbXBsYXRlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgLy8g0LHQtdGA0LXQvCDQvdGD0LbQvdGL0LUg0Y3Qu9C10LzQtdC90YLRiyDQuNC3INGA0LDQt9C80LXRgtC60LhcclxuICBfdGFrZUVsZW1lbnRzQ2FyZCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2ltZ0VsZW1lbnQgPSB0aGlzLl9jYXJkTmV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1nJyk7XHJcbiAgICB0aGlzLl9vdmVybGF5SW1nRWxlbWVudCA9IHRoaXMuX2NhcmROZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19vdmVybGF5LWltZycpO1xyXG4gICAgdGhpcy5fdGl0bGVFbGVtZW50ID0gdGhpcy5fY2FyZE5ld0VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJyk7XHJcbiAgICB0aGlzLl9saWtlUXVhbnRpdHkgPSB0aGlzLl9jYXJkTmV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1xdWFudGl0eScpO1xyXG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2NhcmROZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pY29uLWxpa2UnKTtcclxuICAgIHRoaXMuX2J1dHRvbkRlbGV0ZSA9IHRoaXMuX2NhcmROZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pY29uLWRlbGV0ZScpO1xyXG4gIH1cclxuXHJcbiAgLy8g0YHQstC10YDRj9C10LwgaWQg0LrQsNGA0YLQvtGH0LrQuCDQuCDQvNC+0LkgaWRcclxuICBfY29tcGFyZU93bmVyID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuX293bmVySWQgIT09IHRoaXMuX215UHJvZmlsZUlkKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZS5yZW1vdmUoKTtcclxuICAgICAgdGhpcy5fZmxhZyA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZmxhZyA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQvdCw0L/QvtC70L3Rj9C10Lwg0LTQsNC90L3Ri9C80Lgg0LrQsNGA0YLQvtGH0LrRg1xyXG4gIF9maWxsRGF0YUNhcmQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9pbWdFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9pbWdFbGVtZW50LmFsdCA9IHRoaXMuX3RpdGxlO1xyXG4gICAgdGhpcy5fdGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XHJcbiAgICB0aGlzLnVwZGF0ZVF1YW50aXR5TGlrZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8g0L7QsdC90L7QstC70Y/QtdC8INC60L7Quy3QstC+INC70LDQudC60L7QslxyXG4gIHVwZGF0ZVF1YW50aXR5TGlrZSgpIHtcclxuICAgIHRoaXMuX2xpa2VRdWFudGl0eS50ZXh0Q29udGVudCA9IHRoaXMubGlrZXMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlTGlrZUljb24oKSB7XHJcbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19pY29uLWxpa2VfYWN0aXZlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25MaWtlLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRfX2ljb24tbGlrZV9hY3RpdmUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINC/0YDQvtCy0LXRgNC60LAg0LvQsNC50LrQsFxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5saWtlcy5zb21lKChpdGVtKSA9PiB7XHJcbiAgICAgIHJldHVybiBpdGVtLl9pZCA9PT0gdGhpcy5fbXlQcm9maWxlSWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vINGD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INGB0LvRg9GI0LDRgtC10LvQuFxyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIHRoaXMuX2J1dHRvbkxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpO1xyXG4gICAgfSlcclxuICAgIGlmICh0aGlzLl9mbGFnKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9vdmVybGF5SW1nRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlSW1nQ2xpY2soe1xyXG4gICAgICAgIGxpbms6IHRoaXMuX2xpbmssXHJcbiAgICAgICAgdGl0bGU6IHRoaXMuX3RpdGxlXHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8vINGB0L7Qt9C00LDQtdC8INC60LDRgNGC0L7Rh9C60YNcclxuICBjcmVhdGVDYXJkID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fY2xvbmVUZW1wbGF0ZUVsZW1lbnQoKTtcclxuICAgIHRoaXMuX3Rha2VFbGVtZW50c0NhcmQoKTtcclxuICAgIHRoaXMuX2NvbXBhcmVPd25lcigpO1xyXG4gICAgdGhpcy5fZmlsbERhdGFDYXJkKCk7XHJcbiAgICB0aGlzLnRvZ2dsZUxpa2VJY29uKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmROZXdFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmROZXdFbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IgKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7IC8vINGE0L7RgNC80LBcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7IC8vINC60L3QvtC/0LrQsCDRgdCw0LHQvNC40YJcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTsgLy8g0LLRgdC1INC40L3Qv9GD0YLRi1xyXG4gICAgdGhpcy5fY29uZmlnRm9ybSA9IGNvbmZpZzsgLy8g0L7QsdGK0LXQutGCINGBINC60LvQsNGB0YHQsNC80Lgg0YTQvtGA0LzRi1xyXG4gICAgdGhpcy5fcG9wdXBJbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTsgLy8g0LzQsNGB0YHQuNCyINCy0YHQtdGFINC40L3Qv9GD0YLQvtCyXHJcbiAgfVxyXG5cclxuICAvLyDQn9C+0LrQsNC30YvQstCw0Y4g0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XHJcbiAgX3Nob3dFcnJvck1lc3NhZ2UgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBlcnJvciA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnRm9ybS5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWdGb3JtLmVycm9yQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIC8vINGB0LrRgNGL0LLQsNGOINGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtVxyXG4gIF9oaWRlRXJyb3JNZXNzYWdlID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWdGb3JtLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZ0Zvcm0uZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvLyDQv9GA0L7QstC10YDRj9GOINCy0LDQu9C40LTQtdC9INC70Lgg0LjQvdC/0YPRglxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2hpZGVFcnJvck1lc3NhZ2UoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3Nob3dFcnJvck1lc3NhZ2UoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCw0LrRgtC40LLQuNGA0YPRjiDQutC90L7Qv9C60YMg0YHQsNCx0LzQuNGCXHJcbiAgX2FjdGl2YXRlQnV0dG9uU3VibWl0ID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZ0Zvcm0uaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICB9XHJcbiAgLy8g0LTQtdC30LDQutGC0LjQstC40YDRg9GOINC60L3QvtC/0LrRgyDRgdCw0LHQvNC40YJcclxuICBfaW5hY3RpdmF0ZUJ1dHRvblN1Ym1pdCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWdGb3JtLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgfVxyXG5cclxuICAvLyDQnNC10L3Rj9C10Lwg0YLQtdC60YHRgiDQutC90L7Qv9C60LhcclxuICBjaGFuZ2VCdXR0b25UZXh0ID0gKHRleHQpID0+IHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIH1cclxuXHJcbiAgLy8g0L/RgNC+0LLQtdGA0LrQsCDQstGB0LXRhSDQuNC90L/Rg9GC0L7QsiDRhNC+0YDQvNGLIC0gdHJ1ZSDQtdGB0LvQuCDRhdC+0YLRjCDQvtC00LjQvSDQuNC3INC40L3Qv9GD0YLQvtCyINGE0L7RgNC80Ysg0L3QtdCy0LDQu9C40LTQtdC9XHJcbiAgX2NoZWNrSW5wdXRzVmFsaWQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbGVtZW50cy5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8g0LTQtdC70LDRjiDQutC90L7Qv9C60YMgc3VibWl0INCw0LrRgtC40LLQvdC+0Lkv0L3QtdCw0LrRgtC40LLQvdC+0LksINC/0YDQvtCy0LXRgNGP0Y8g0LLQsNC70LjQtNCw0YbQuNGOINC40L3Qv9GD0YLQvtCyXHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5fY2hlY2tJbnB1dHNWYWxpZCgpKSB7XHJcbiAgICAgIHRoaXMuX2FjdGl2YXRlQnV0dG9uU3VibWl0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9pbmFjdGl2YXRlQnV0dG9uU3VibWl0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDRg9GB0YLQsNC90LDQstC70LjQstCw0Y4g0YHQu9GD0YjQsNGC0LXQu9C4INCy0YHQtdGFINC40L3Qv9GD0YLQvtCyINC4INC30LDQv9GD0YHQutCw0Y4g0LzQtdGC0L7QtNGLXHJcbiAgX3NldElucHV0TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpOyAvLyDQtNC+INGD0YHRgtCw0L3QvtCy0LrQuCDRgdC70YPRiNCw0YLQtdC70LXQuSDRg9GB0YLQsNC90LDQstC70LjQstCw0Y4g0LDQutGC0LjQstC90L7RgdGC0Ywv0L3QtdCw0LrRgi3RgtGMINC60L3QvtC/0LrQuCBzdWJtaXRcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8g0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQg0LLQsNC70LjQtNCw0YbQuNC4INCy0YHQtdGFINGE0L7RgNC8XHJcbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX3NldElucHV0TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICAvLyDRhNGD0L3QutGG0LjRjyDQvtGH0LjRgdGC0LrQuCDQvtGI0LjQsdC+0Log0LLQsNC70LjQtNCw0YbQuNC4XHJcbiAgY2xlYXJFcnJvcnNNZXNzYWdlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fcG9wdXBJbnB1dExpc3QuZm9yRWFjaCh0aGlzLl9oaWRlRXJyb3JNZXNzYWdlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcblxyXG5cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7cHJvZmlsZVRpdGxlU2VsZWN0b3IsIHByb2ZpbGVTdWJ0aXRsZVNlbGVjdG9yLCBwcm9maWxlQXZhdGFyU2VsZWN0b3J9KSB7XHJcbiAgICB0aGlzLl9wcmlmaWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVUaXRsZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3ByaWZpbGVTdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZVN1YnRpdGxlU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUF2YXRhclNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3Byb2ZpbGVJZCA9ICcnO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8gKCkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX3ByaWZpbGVUaXRsZS50ZXh0Q29udGVudCxcclxuICAgICAgYWJvdXQ6IHRoaXMuX3ByaWZpbGVTdWJ0aXRsZS50ZXh0Q29udGVudFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVzZXJEYXRhO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8gKHtuYW1lLCBhYm91dCwgX2lkfSkge1xyXG4gICAgdGhpcy5fcHJpZmlsZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX3ByaWZpbGVTdWJ0aXRsZS50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gICAgdGhpcy5fcHJvZmlsZUlkID0gX2lkO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQXZhdGFyKGF2YXRhckxpbmspIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjID0gYXZhdGFyTGluaztcclxuICB9XHJcblxyXG4gIGdldFVzZXJJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9wcm9maWxlSWQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICAvLyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQvtGC0LLQtdGC0LBcclxuICBfaGFuZGxlUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG5cclxuICAvLyDQv9C+0LvRg9GH0LXQvdC40LUg0LrQsNGA0YLQvtGH0LXQulxyXG4gIGdldENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvLyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbiAgYWRkQ2FyZChkYXRhQ2FyZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YUNhcmQpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvLyDQv9C+0LvRg9GH0LXQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/RgNC+0YTQuNC70LVcclxuICBnZXRQcm9maWxlKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvLyDQmNGB0L/RgNCw0LLQu9C10L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gIGFkZFByb2ZpbGUoZGF0YU5ld0F1dGhvcikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGFOZXdBdXRob3IpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvLyDRg9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcclxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgLy8g0YPQtNCw0LvQtdC90LjQtSDQu9Cw0LnQutCwXHJcbiAgZGVsZXRlTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIC8vINC00L7QsdCw0LLQu9C10L3QuNC1INC70LDQudC60LBcclxuICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgLy8g0L7QsdC90L7QstC70LXQvdC40LUg0LDQstCw0YLQsNGA0LrQuFxyXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXIpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYXZhdGFyKVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxyXG4gIH1cclxufVxyXG4iLCIvLyDQutC+0L3RhNC40LMg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3N1Ym1pdC1idXR0b24nLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZCcsXHJcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJ1xyXG59O1xyXG5cclxuLy8g0L/RgNC+0YTQuNC70Ywg0LDQstGC0L7RgNCwXHJcbmNvbnN0IHByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZScpO1xyXG5leHBvcnQgY29uc3QgZGF0YVByb2ZpbGVTZWxlY3RvcnMgPSB7XHJcbiAgcHJvZmlsZVRpdGxlU2VsZWN0b3I6ICcucHJvZmlsZV9fdGl0bGUnLFxyXG4gIHByb2ZpbGVTdWJ0aXRsZVNlbGVjdG9yOiAnLnByb2ZpbGVfX3N1YnRpdGxlJyxcclxuICBwcm9maWxlQXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9fYXZhdGFyJ1xyXG59XHJcbi8vINCw0LLQsNGC0LDRgFxyXG5leHBvcnQgY29uc3QgYXZhdGFyT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19vdmVybGF5LWF2YXRhcicpO1xyXG5cclxuLy8g0LrQvdC+0L/QutC4XHJcbmV4cG9ydCBjb25zdCBidXR0b25FZGl0ID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZCA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcclxuXHJcbi8vINC/0L7Qv9Cw0L/Ri1xyXG5leHBvcnQgY29uc3QgcG9wdXBUeXBlRWRpdFNlbGVjdG9yID0gJy5wb3B1cF90eXBlX2VkaXQnO1xyXG5leHBvcnQgY29uc3QgcG9wdXBUeXBlQWRkU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfYWRkJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZUltYWdlU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfaW1hZ2UnO1xyXG5leHBvcnQgY29uc3QgcG9wdXBUeXBlQ29uZmlybVNlbGVjdG9yID0gJy5wb3B1cF90eXBlX2NvbmZpcm0nO1xyXG5leHBvcnQgY29uc3QgcG9wdXBUeXBlQXZhdGFyU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfYXZhdGFyJztcclxuXHJcbi8vINC60L7QvdGC0LXQudC90LXRgCDQtNC70Y8g0LrQsNGA0YLQvtGH0LXQulxyXG5leHBvcnQgY29uc3QgY29udGFpbmVyRm9yQ2FyZHNTZWxlY3RvciA9ICcuZWxlbWVudHNfX2xpc3QnO1xyXG5cclxuLy8gdGVtcGxhdGVcclxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlU2VsZWN0b3IgPSAnLmVsZW1lbnQtdGVtcGxhdGUnO1xyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoU3VibWl0IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8nO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IHtcclxuICBwb3B1cFR5cGVFZGl0U2VsZWN0b3IsXHJcbiAgcG9wdXBUeXBlQWRkU2VsZWN0b3IsXHJcbiAgcG9wdXBUeXBlSW1hZ2VTZWxlY3RvcixcclxuICBwb3B1cFR5cGVDb25maXJtU2VsZWN0b3IsXHJcbiAgcG9wdXBUeXBlQXZhdGFyU2VsZWN0b3IsXHJcbiAgYXZhdGFyT3ZlcmxheSxcclxuICBkYXRhUHJvZmlsZVNlbGVjdG9ycyxcclxuICBjb25maWcsXHJcbiAgYnV0dG9uRWRpdCxcclxuICBidXR0b25BZGQsXHJcbiAgdGVtcGxhdGVTZWxlY3RvcixcclxuICBjb250YWluZXJGb3JDYXJkc1NlbGVjdG9yXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tINCS0JDQm9CY0JTQkNCm0JjQryDQpNCe0KDQnCBMSVZFLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgZm9ybUF1dGhvclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZG9jdW1lbnQuZm9ybXMuZm9ybUF1dGhvcik7XHJcbmNvbnN0IGZvcm1DYXJkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBkb2N1bWVudC5mb3Jtcy5mb3JtQ2FyZCk7XHJcbmNvbnN0IGZvcm1BdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGRvY3VtZW50LmZvcm1zLmZvcm1BdmF0YXIpO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBBUEkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTI2JyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnZWY5YzRkZmYtNGNlZi00MTdiLWE0ZGQtODVmNmQ0YmEzZmVmJyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn0pO1xyXG5cclxuLy8g0J/QntCf0JDQnyDQoSDQmNCX0J7QkdCg0JDQltCV0J3QmNCV0Jwg0JrQkNCg0KLQntCn0JrQmFxyXG5jb25zdCBwb3B1cFR5cGVJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cFR5cGVJbWFnZVNlbGVjdG9yKTtcclxucG9wdXBUeXBlSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINCf0J7Qn9CQ0J8g0KEg0J/QntCU0KLQktCV0KDQltCU0JXQndCY0JXQnCDQo9CU0JDQm9CV0J3QmNCvINCa0JDQoNCi0J7Qp9Ca0JhcclxuY29uc3QgcG9wdXBUeXBlQ29uZmlybSA9IG5ldyBQb3B1cFdpdGhTdWJtaXQoXHJcbiAgZnVuY3Rpb24gaGFuZGxlclN1Ym1pdEZvcm0oY2FyZCkge1xyXG4gICAgLy9jb25zb2xlLmxvZyhjYXJkLmNhcmRJZCk7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkLmNhcmRJZClcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT09IFwi0J/QvtGB0YIg0YPQtNCw0LvRkdC9XCIpIHtcclxuICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xyXG4gICAgICAgICAgcG9wdXBUeXBlQ29uZmlybS5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKHJlaiA9PiBjb25zb2xlLmxvZyhyZWopKTtcclxuICB9LFxyXG4gIHBvcHVwVHlwZUNvbmZpcm1TZWxlY3Rvcik7XHJcbnBvcHVwVHlwZUNvbmZpcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLSDQntCR0KrQldCa0KIg0KEg0J7QkdCg0JDQkdCe0KLQp9CY0JrQkNCc0JggLS0tLS0tLS0tLS0tLVxyXG5jb25zdCBoYW5kbGVyc0NhcmRDbGljayA9IHtcclxuXHJcbiAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbiAgaGFuZGxlRGVsZXRlQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgcG9wdXBUeXBlQ29uZmlybS5vcGVuKHRoaXMpO1xyXG4gIH0sXHJcblxyXG4gIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INC70LDQudC60LBcclxuICBoYW5kbGVMaWtlQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgbGlrZSA9IHRoaXMuaXNMaWtlZCgpID8gYXBpLmRlbGV0ZUxpa2UodGhpcy5jYXJkSWQpIDogYXBpLmFkZExpa2UodGhpcy5jYXJkSWQpO1xyXG4gICAgbGlrZS50aGVuKChyZXMpID0+IHtcclxuICAgICAgdGhpcy5saWtlcyA9IHJlcy5saWtlcztcclxuICAgICAgdGhpcy51cGRhdGVRdWFudGl0eUxpa2UoKTtcclxuICAgICAgdGhpcy50b2dnbGVMaWtlSWNvbigpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChyZWogPT4gY29uc29sZShyZWopKTtcclxuICB9LFxyXG5cclxuICAvLyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQutC70LjQutCwINC/0L4g0LjQt9C+0LHRgNCw0LbQtdC90LjRjiDQutCw0YDRgtC+0YfQutC4XHJcbiAgaGFuZGxlSW1nQ2xpY2s6IChkYXRhKSA9PiB7XHJcbiAgICBwb3B1cFR5cGVJbWFnZS5vcGVuKGRhdGEpO1xyXG4gIH1cclxufVxyXG5cclxuLy8g0LrQvtC90YHRgtGA0YPQutGC0L7RgCDQutCw0YDRgtC+0YfQtdC6XHJcbmZ1bmN0aW9uIGNvbnN0cnVjdE5ld0NhcmQoZGF0YSwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlcnNDYXJkQ2xpY2spIHtcclxuICBjb25zdCB1c2VySWQgPSB1c2VySW5mby5nZXRVc2VySWQoKTtcclxuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoZGF0YSwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlcnNDYXJkQ2xpY2ssIHVzZXJJZCk7XHJcbiAgcmV0dXJuIG5ld0NhcmQuY3JlYXRlQ2FyZCgpO1xyXG59XHJcblxyXG4vLyDQv9GA0L7RhNC40LvRjFxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhkYXRhUHJvZmlsZVNlbGVjdG9ycyk7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tINCX0JDQk9Cg0KPQl9Ca0JAg0JjQndCk0J7QoNCc0JDQptCY0JggLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRQcm9maWxlKCksIGFwaS5nZXRDYXJkcygpXSlcclxuICAudGhlbigoW3Byb2ZpbGVJbmZvLCBjYXJkc0luZm9dKSA9PiB7XHJcblxyXG4gICAgLy8g0LfQsNC/0L7Qu9C90LXQvdC40LUg0L/RgNC+0YTQuNC70Y9cclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHByb2ZpbGVJbmZvKTtcclxuICAgIHVzZXJJbmZvLnVwZGF0ZUF2YXRhcihwcm9maWxlSW5mby5hdmF0YXIpXHJcblxyXG4gICAgLy8g0LfQsNC/0L7Qu9C90LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQsNC80LhcclxuICAgIGNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICBmdW5jdGlvbiByZW5kZXJlcihpdGVtKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q2FyZCA9IGNvbnN0cnVjdE5ld0NhcmQoaXRlbSwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlcnNDYXJkQ2xpY2spO1xyXG4gICAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKG5ld0NhcmQpO1xyXG4gICAgICB9LFxyXG4gICAgICBjb250YWluZXJGb3JDYXJkc1NlbGVjdG9yKTtcclxuICAgIGNhcmRzTGlzdC5yZW5kZXJlckl0ZW1zKGNhcmRzSW5mbyk7XHJcblxyXG4gICAgLy8gLS0tLS0g0J/QntCf0JDQnyDQlNCe0JHQkNCS0JvQldCd0JjQryDQndCe0JLQntCZINCa0JDQoNCi0J7Qp9Ca0Jgg0J/QntCb0KzQl9Ce0JLQkNCi0JXQm9CvIC0tLS0tXHJcbiAgICBjb25zdCBwb3B1cFR5cGVBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgICAgZnVuY3Rpb24gaGFuZGxlclN1Ym1pdEZvcm1DYXJkKGRhdGFDYXJkKSB7XHJcbiAgICAgICAgZm9ybUNhcmRWYWxpZGF0b3IuY2hhbmdlQnV0dG9uVGV4dCgn0KHQvtC30LTQsNC90LjQtS4uLicpO1xyXG4gICAgICAgIGFwaS5hZGRDYXJkKGRhdGFDYXJkKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9ucyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0NhcmQgPSBjb25zdHJ1Y3ROZXdDYXJkKHJlc3BvbnMsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZXJzQ2FyZENsaWNrKTtcclxuICAgICAgICAgICAgY2FyZHNMaXN0LmFkZEl0ZW1Ub1RvcChuZXdDYXJkKTtcclxuICAgICAgICAgICAgcG9wdXBUeXBlQWRkLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIGZvcm1DYXJkVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgICAgIGZvcm1DYXJkVmFsaWRhdG9yLmNoYW5nZUJ1dHRvblRleHQoJ9Ch0L7Qt9C00LDRgtGMJyk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKHJlaiA9PiBjb25zb2xlLmxvZyhyZWopKTtcclxuICAgICAgfSxcclxuICAgICAgcG9wdXBUeXBlQWRkU2VsZWN0b3IpO1xyXG4gICAgcG9wdXBUeXBlQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLSDQn9Ce0J/QkNCfINCQ0JLQotCe0KDQkCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGNvbnN0IHBvcHVwVHlwZUVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgICAgZnVuY3Rpb24gaGFuZGxlclN1Ym1pdEZvcm1BdXRob3IoZGF0YUF1dGhvcikge1xyXG4gICAgICAgIGZvcm1BdXRob3JWYWxpZGF0b3IuY2hhbmdlQnV0dG9uVGV4dCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICAgICAgICBhcGkuYWRkUHJvZmlsZShkYXRhQXV0aG9yKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9ucyA9PiB7XHJcbiAgICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlc3BvbnMpO1xyXG4gICAgICAgICAgICBwb3B1cFR5cGVFZGl0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgIGZvcm1BdXRob3JWYWxpZGF0b3IuY2hhbmdlQnV0dG9uVGV4dCgn0KHQvtGF0YDQsNC90LjRgtGMJyk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKHJlaiA9PiBjb25zb2xlLmxvZyhyZWopKTtcclxuICAgICAgfSxcclxuICAgICAgcG9wdXBUeXBlRWRpdFNlbGVjdG9yKTtcclxuICAgIHBvcHVwVHlwZUVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0g0J/QntCf0JDQnyDQkNCS0JDQotCQ0KDQmtCYIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgY29uc3QgcG9wdXBUeXBlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXJTdWJtaXRGb3JtQXZhdGFyKGF2YXRhcikge1xyXG4gICAgICAgIGZvcm1BdmF0YXJWYWxpZGF0b3IuY2hhbmdlQnV0dG9uVGV4dCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICAgICAgICBhcGkudXBkYXRlQXZhdGFyKGF2YXRhcilcclxuICAgICAgICAgIC50aGVuKCh7YXZhdGFyfSkgPT4ge1xyXG4gICAgICAgICAgICB1c2VySW5mby51cGRhdGVBdmF0YXIoYXZhdGFyKTtcclxuICAgICAgICAgICAgcG9wdXBUeXBlQXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIGZvcm1BdmF0YXJWYWxpZGF0b3IuY2hhbmdlQnV0dG9uVGV4dCgn0KHQvtGF0YDQsNC90LjRgtGMJyk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKHJlaiA9PiBjb25zb2xlLmxvZyhyZWopKTtcclxuICAgICAgfSxcclxuICAgICAgcG9wdXBUeXBlQXZhdGFyU2VsZWN0b3IpO1xyXG4gICAgcG9wdXBUeXBlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLSDQntCi0JrQoNCr0KLQmNCVINCf0J7Qn9CQ0J/QkCDQoNCV0JTQkNCa0KLQmNCg0J7QktCQ0J3QmNCvINCf0KDQntCk0JjQm9CvIC0tLS0tLS0tLS0tXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVyQ2xpY2tCdXR0b25FZGl0KCkge1xyXG4gICAgICBwb3B1cFR5cGVFZGl0LnNldElucHV0VmFsdWVzKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xyXG4gICAgICBmb3JtQXV0aG9yVmFsaWRhdG9yLmNsZWFyRXJyb3JzTWVzc2FnZSgpO1xyXG4gICAgICBwb3B1cFR5cGVFZGl0Lm9wZW4oKTtcclxuICAgIH1cclxuICAgIGJ1dHRvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVyQ2xpY2tCdXR0b25FZGl0KTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0g0J7QotCa0KDQq9Ci0JjQlSDQn9Ce0J/QkNCf0JAg0JTQntCR0JDQktCb0JXQndCY0K8g0JrQkNCg0KLQntCn0JrQmCAtLS0tLS0tLS0tLS0tXHJcbiAgICBidXR0b25BZGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGZvcm1DYXJkVmFsaWRhdG9yLmNsZWFyRXJyb3JzTWVzc2FnZSgpO1xyXG4gICAgICBwb3B1cFR5cGVBZGQub3BlbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gIC0tLS0tLS0tLS0tLS0tLS0tINCe0KLQmtCg0KvQotCY0JUg0J/QntCf0JDQn9CQINCQ0JLQkNCi0JDQoNCa0JggLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBhdmF0YXJPdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBmb3JtQXZhdGFyVmFsaWRhdG9yLmNsZWFyRXJyb3JzTWVzc2FnZSgpO1xyXG4gICAgICBmb3JtQXZhdGFyVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIHBvcHVwVHlwZUF2YXRhci5vcGVuKCk7XHJcbiAgICB9KTtcclxuICB9KVxyXG4uY2F0Y2gocmVqID0+IGNvbnNvbGUubG9nKHJlaikpXHJcbi5maW5hbGx5KCgpID0+IHtcclxuICAvLyDQt9Cw0L/Rg9GB0Log0LLQsNC70LjQtNCw0YbQuNC4XHJcbiAgZm9ybUNhcmRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIGZvcm1BdXRob3JWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIGZvcm1BdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG59KTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==